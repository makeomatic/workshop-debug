<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <title>Big</title>
  <link href="big.css" rel="stylesheet" type="text/css" />
  <link href="themes/dark.css" rel="stylesheet" type="text/css" />
  <script src="big.js"></script>
  <style>
    .ol {
      white-space: nowrap;
    }
  </style>
</head>
<body class="dark">
  <div>
    <span class="ol">Debug <em>Oh-No</em></span>
  </div>
  <div>
    @<em>makeomatic</em>
  </div>
  <div>
    <span class="ol"><em>Стать Волшебником</em></span>
    <span class="ol">* как спрашивать офигенные вопросы</span>
    <span class="ol">* чтение исходного кода</span>
    <span class="ol">* навыки избавления от багов</span>
  </div>
  <div>
    Как стать <em>Волшебником</em>
  </div>
  <div>
    <em>Задавайте Вопросы.</em>
    <notes>Если есть люди вокруг, которые знают вещи,
      которые не знаете вы - спрашивайте их как что-то делать.
      Тупые вопросы.
      Вопросы которые страшно задать.
      Ваши вопросы быстро станут намного умнее
    </notes>
  </div>
  <div>
    Столкнитесь с проблемой, которую не может решить коллега
  </div>
  <div>
    <p>
      Решите, как разобраться с проблемой несмотря не отсутствие знаний.
    </p>
    <br/>
    <p>
      Это очень сложно, но со временем это будет получаться чаще и чаще
    </p>
  </div>
  <div>
    Чем больше вы программируете, тем больше вы сталкиваетесь с проблемами:
    <ol>
      <li>Не знаете как ее решить</li>
      <li>Коллеги не знают как ее решить</li>
      <li>Google не знает как ее решить</li>
      <li>Все равно нужно придумать как ее решить</li>
    </ol>
  </div>
  <div>
    Когда такое случается должно прийти понимание что
    именно поэтому <em>вам и платят как человеку</em> с мозгом,
    который может <em>исследовать проблему и научиться ее
    решать</em>
  </div>
  <div>
    <em>Когда</em> инвестировать время в понимание?
  </div>
  <div>
    Мы работаем с огромным количеством <em>абстракций</em>.
    <br /><br />
    Вам не нужно
    каждый раз тратить время чтобы понять как все работает под капотом
  </div>
  <div>
    <em>Как работает wifi?</em>
    понятия не имею, никогда не требовалось это изучать
  </div>
  <div>
    Когда же тратить время на изучение?
  </div>
  <div>
    <em>1. Когда вам требуется справиться с непонятной проблемой</em>
    <ul>
      <li>
        Иногда библиотеки, от которых вы зависите содержат баги
      </li>
      <li>
        Часто библиотеки/системы (например css, linux) включают сложные абстракции
        (модель "box" или "epoll" на linux), они требуют времени на изучение
      </li>
    </ul>
  </div>
  <div>
    <em>2. Когда требуется сдвинуть ограничения или улучшить производительность</em>
    <ul>
      <li>
        Вы не всегда думаете о железе на котором работаете, но при записи на диск вы
        всегда ограничены скоростью записи на диск
      </li>
    </ul>
  </div>
  <div>
    <em>3. Когда вы хотите придумать что-то новое</em>
    <ul>
      <li>
      Когда вы создаете новую абстракцию (например библиотеку для рабоыт с async), то
      вам необходимо понимать как работает слой ниже!
      </li>
    </ul>
  </div>
  <div>
    <em>Задаем отличные вопросы</em>
  </div>
  <div>
    Один из наиболее полезных инструментов при обучении.
    <br /><br />
    <em>Что такое хороший вопрос?</em>
  </div>
  <div>
    <em>Хороший вопрос:</em>
    <ul>
      <li>
        человек, которому вы его задаете может легко на него ответить
      </li>
      <li>
        дает необходимую вам информацию
      </li>
    </ul>
  </div>
  <div>
    Несколько стратегий и примеров с хорошими вопросами
  </div>
  <div>
    <em>
      Проговаривайте то что вы уже знаете
    </em>
    <br/><br/>
    Q: я знаю, что когда база данных пытается много писать жесткие
    диски могут не справляться
    <br/><br/>
    A: так точно! Но я не думаю что наша проблема как-то связана с этим...
    <notes>
      Это помогает потому что:
      * Требуется думать о том что вы уже знаете
      * Меньше вероятность получить ответ, который слишком простой или продвинутый
    </notes>
  </div>
  <div>
    <em>
      Пытайтесь угадать каков может быть ответ
    </em>
    <br/><br/>
    Q: У нас 5 балансировщиков нагрузки потому что мы обрабатываем
    много запросов?
    <br/><br/>
    A: На самом деле мы хотим быть уверены что если балансировщик упадет,
    то не случиться ничего страшного
    <notes>
      Это может помочь отвечающему понять что вам интересно услышать в ответ
    </notes>
  </div>
  <div>
    <em>
      Выбирайте кого спросить
    </em>
    <br/><br/>
    * создателя базы данных
    <br/>
    * коллегу, у которого немного больше опыта чем у вас
    <notes>
      Человек, который знает больше всего часто не лучший вариант.
      Часто тот, кто изучал те же самые вопросы совсем недавно помнит
      больше информации. Более того, у этого человека скорее всего
      значительно больше времени
    </notes>
  </div>
  <div>
    <em>
      Найдите удобное время
    </em>
    <br/><br/>
    Q: Можно пообщаться с тобой про производительность базы данных около 20 минут?
    <br/><br/>
    A: да, конечно! после ланча мне удобно
    <br/><br/>
    Q: Ок!
    <notes>
      Особенно если у вас много вопросов
    </notes>
  </div>
  <div>
    <em>
      Потратье некоторе время на ресерч
    </em>
    <br/><br/>
    Q: Я выяснил(а) что создание индекса в базе данных занимает много времени.
    Что случится если я сделаю запрос к базе данных в это время?
    <notes>
      Если вы потратите немного времени на исследование вы сможете задать
      намного более крутой вопрос
    </notes>
  </div>
  <div>
    <em>
      Задавайте да/нет вопросы
    </em>
    <br/><br/>
    Q: эта база данных берет лок когда делает запись?
    <br/><br/>
    A: да! вот доки где ты можешь почитать подробнее
    <br/><br/>
    Q: Ок!
    <notes>
      На такие вопросы очень просто ответить, но вам придется
      сфокусироваться на том чтобы придумать этот вопрос
    </notes>
  </div>
  <div>
    <em>Читайте исходники</em>
  </div>
  <div>
    <em>Не всегда возможно задать вопрос</em>
    Иногда:
    <ul>
      <li>нет документации</li>
      <li>коллеги заняты</li>
      <li>они не знают ответа</li>
      <li>вы хотите знать значительно больше деталей и об этом не очень адекватно спрашивать</li>
    </ul>
  </div>
  <div>
    <em>Нам повезло, есть оперсорс</em>
  </div>
  <div>
    Однажды мне взбрело в голову разобраться можно ли настроить
    сокет в линуксе так, чтобы соединения не попадали в очередь.
    Гугление привело к конфликтующим ответам. Повезло и нашлась ссылка
    на исходники в stackoverflow. Там было написано:
<pre><code>
backlog = max(backlog, 8)
</code></pre>
    Это значит что невозможно выставить значение очереди меньше 8
  </div>
  <div>
    <em>Как читать код?</em>
    <ul>
      <li>Q: что делает этот код?</li>
      <li>A: не знаю, никто не трогал его последний год, а сегодня он сломался</li>
      <li>Q: о, похоже пора разобраться</li>
    </ul>
  </div>
  <div>
    <em>Ищете текст ошибки в исходниках</em>
    <br/>
    <br/>
    Если текст ошибки непонятен - найдите где она создается
    и разберитесь почему
  </div>
  <div>
    <em>Прочтите исходники полностью</em>
    <br/>
    <br/>
    Если исходники меньше 1000 строчек кода - пробегитесь по ним
    чтобы примерно понять как все работает
    <br/>
    <br/>
    О! Тут просто вызывается <code>syncAll</code> каждый 10 секунд
  </div>
  <div>
    <em>Поиграйтесь с кодом</em>
    Не бойтесь менять код:
    <ul>
      <li>используйте дебаггер (node-inspector и тому подобное)</li>
      <li>напишите тест</li>
      <li>добавьте вывод в консоль</li>
      <li>допускайте ошибки</li>
      <li>экспериментируйте</li>
      <li>не всегда верьте комментариям</li>
    </ul>
  </div>
  <div>
    Debugging: <em>love your bugs</em>
  </div>
  <div>
    Дебаггинг - <u>офигенный</u> способ учиться.
    <br/>
    <br/>
    Для меня поиск проблем и их решение - <em>самое захватывающее в моей работе</em>.
    <br/>
    <br/>
    Посмотрите talk Allison Kaptur "Love Your Bugs"
  </div>
  <div>
    Вначале нужно принять жестокую реальность того, что баги в вашем коде - это <em>проблема</em>
    с вашей существующей <em>ментальной моделью</em>.
  </div>
  <div>
    <em>Программа</em> <code>error: too many open files</code>
    <br/>
    <br/>
    <em>Вы</em> О, а что разве нельзя открывать сколько угодно файлов? Круто!
    <br/>
    <br/>
  </div>
  <div>
    Исправление ошибок отличный способ написать более надежный код
    <br/>
    <br/>
    <em>Вы</em> хм, тут стоит добавить обработку ошибок, например, если запрос
    к базе данных отвалится по таймауту
  </div>
  <div>
    Более того, вы можете <em>раскрыть тайну</em> и получить мгновенную <u>обратную связь</u>
    о том были ли вы правы или нет
    <br />
    <br />
    <ul>
      <li>Хм, странно</li>
      <li>ОООО, как много ошибок</li>
      <li>Есть идея</li>
      <li>... пишу фикс ...</li>
      <li>походу работает!</li>
      <li>коллеги: КРУТО!</li>
    </ul>
  </div>
  <div>
    Никто не пишет отличный код без создания и исправления кучи ошибок.
  </div>
  <div>
    <em>Навыки дебаггинга</em>
  </div>
  <div>
    Как стать лучше в дебаггинге
  </div>
  <div>
    <em>Помните, баг всегда случается по логической причине</em>
    <br />
    <br />
    Никакого волшебства. Правда. Даже когда баг не имеет никакого логического смысла.
  </div>
  <div>
    <em>Будьте уверены, что вы можете побороть баг</em>
    <br />
    <br />
    До: хм, может это слишком сложно?
    <br />
    <br />
    Сейчас: я поправил(а) уже много багов, уверен(а) что справлюсь и с этим
  </div>
  <div>
    <em>Обсудите с коллегами</em>
    <br />
    <br />
    До: хочу узнать о $THING, но не знаю как
    <br />
    <br />
    Сейчас: я знаю, заюзаю `tcpdump`
  </div>
  <div>
    <em>Самое важное: научитесь любить баги</em>
    <br />
    <br />
    До: оооо нееет, баг
    <br />
    <br />
    Сейчас: о, кажется изучу что-то новое
  </div>
  <div>
    <em>Практика</em>
  </div>
  <div>
    <em>Анатомия стэктрейса</em>
  </div>
  <div class="layout" style='grid-template-rows:5% 90% 5%;'>
    <em>node ./problems/01.basic.js</em>
    <img src="./assets/01.syntax.png" />
    <br />
    <a href="https://github.com/nodejs/node/blob/v10.16.3/lib/internal/modules/cjs/loader.js#L723">
      https://github.com/nodejs/node/blob/v10.16.3/lib/internal/modules/cjs/loader.js#L723
    </a>
    <a href="https://github.com/nodejs/node/blob/v10.16.3/lib/internal/modules/cjs/loader.js#L789">
      https://github.com/nodejs/node/blob/v10.16.3/lib/internal/modules/cjs/loader.js#L789
    </a>
  </div>
</body>
</html>
